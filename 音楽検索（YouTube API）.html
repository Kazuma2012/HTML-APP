
<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <title>音楽検索</title>
  <style>
    body { font-family: sans-serif; padding: 2rem; }
    input { padding: 0.5rem; width: 60%; }
    button { padding: 0.5rem 1rem; margin-left: 1rem; }
    iframe { margin-top: 1rem; width: 100%; height: 400px; }
  </style>
</head>
<body>
  <h1> 音楽検索</h1>
  <input type="text" id="query" placeholder="曲名やアーティスト名を入力" />
  <button onclick="searchYouTube()">検索</button>
  <div id="player"></div>

  <script>
    const API_KEY = 'AIzaSyCHjVL925rnYBluF3MoHGdT0In1YH0F55s'; // ← あなたのYouTube APIキーをここに！

    function searchYouTube() {
      const query = document.getElementById('query').value.trim();
      if (!query) return;

      const url = `https://www.googleapis.com/youtube/v3/search?part=snippet&q=${encodeURIComponent(query)}&key=${API_KEY}&type=video&maxResults=1`;

      fetch(url)
        .then(res => res.json())
        .then(data => {
          const videoId = data.items[0].id.videoId;
          const player = document.getElementById('player');
          player.innerHTML = `
            <iframe src="https://www.youtube.com/embed/${videoId}" frameborder="0" allowfullscreen></iframe>
          `;
        })
        .catch(err => {
          console.error('エラー:', err);
          document.getElementById('player').innerHTML = '<p>動画を取得できませんでした。</p>';
        });
    }
  </script>
</body>
</html>
