
<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <title>まなびのトビラ</title>
  <link rel="icon" type="image/webp" sizes="16x16" href="https://i.postimg.cc/L4fXm0kP/assets-task-01k4pqvmrdfpq8j99gfrzgj1vk-1757404936-img-0.webp">
  <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&family=M+PLUS+Rounded+1c:wght@500;700&display=swap" rel="stylesheet">
  <style>
    body {
      font-family: 'M PLUS Rounded 1c', sans-serif;
      margin: 0;
      display: flex;
      height: 100vh;
      background: #f4f6fa;
    }

    /* 左のメニューバー */
    .sidebar {
      width: 200px;
      background: #0078d7;
      color: white;
      display: flex;
      flex-direction: column;
      align-items: center;
      padding-top: 20px;
    }
    .sidebar h2 { font-size: 18px; margin-bottom: 30px; }
    .menu-item { padding: 12px 10px; width: 100%; text-align: center; cursor: pointer; transition: background 0.2s; }
    .menu-item:hover { background: #005fa3; }

    /* メイン画面 */
    .main { flex: 1; padding: 40px; overflow-y: auto; }
    .main h1 { margin: 0 0 30px 0; font-size: 28px; color: #333; }

    /* ホーム画面カード */
    .cards { display: grid; grid-template-columns: repeat(4, 1fr); gap: 20px; }
    .card {
      background: white;
      border-radius: 15px;
      box-shadow: 0 4px 10px rgba(0,0,0,0.1);
      padding: 30px 15px;
      text-align: center;
      cursor: pointer;
      transition: transform 0.2s, box-shadow 0.2s;
    }
    .card:hover { transform: translateY(-5px); box-shadow: 0 6px 15px rgba(0,0,0,0.15); }
    .card-icon { font-size: 40px; margin-bottom: 10px; color: #0078d7; }
    .card span { display: block; font-size: 15px; font-weight: bold; color: #333; }

    /* 資料検索画面 */
    .search-box {
      background: #fff;
      padding: 40px;
      border-radius: 20px;
      box-shadow: 0 8px 25px rgba(0,0,0,0.15);
      width: 450px;
      margin: auto;
      text-align: center;
    }
    .search-box p { font-size: 14px; color: #555; margin-bottom: 20px; }
    .search-box input {
      width: 80%;
      padding: 12px 40px 12px 15px;
      border: 1px solid #ccc;
      border-radius: 25px;
      outline: none;
      transition: border 0.2s, box-shadow 0.2s;
    }
    .search-box input:focus { border-color: #0078d7; box-shadow: 0 0 6px rgba(0,120,215,0.4); }

    .buttons { margin-top: 20px; }
    .buttons button {
      padding: 10px 20px; margin: 0 8px; border: none; border-radius: 20px; cursor: pointer;
      font-weight: bold; transition: background 0.2s, transform 0.1s;
    }
    .btn-search { background: #0078d7; color: white; }
    .btn-search:hover { background: #005fa3; transform: scale(1.05); }
    .btn-clear { background: #eee; color: #333; }
    .btn-clear:hover { background: #ddd; transform: scale(1.05); }
    .btn-home { background: #ff8c00; color: white; }
    .btn-home:hover { background: #e07b00; transform: scale(1.05); }

    .categories {
      margin-top: 30px;
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      gap: 12px;
    }
    .category {
      flex: 1 1 40%;
      min-width: 150px;
      background: #f7faff;
      border: 1px solid #d0e2f5;
      border-radius: 12px;
      padding: 15px;
      cursor: pointer;
      transition: background 0.2s, transform 0.1s;
      text-align: center;
      font-size: 14px;
      color: #0078d7;
      box-shadow: 0 3px 8px rgba(0,0,0,0.05);
    }
    .category:hover { background: #e3f1ff; transform: translateY(-2px); }

    /* 切り替え */
    #homeScreen { display: block; }
    #searchScreen { display: none; }
  </style>
</head>
<body>
  <!-- サイドバー -->
  <div class="sidebar">
    <h2>メニュー</h2>
    <div class="menu-item" onclick="showHome()">🏠 ホーム</div>
    <div class="menu-item">📚 学習</div>
    <div class="menu-item">⚙ 設定</div>
  </div>

  <!-- メイン画面 -->
  <div class="main">
    <!-- ホーム画面 -->
    <div id="homeScreen">
      <h1>まなびのトビラ</h1>
      <div class="cards">
        <div class="card"><div class="card-icon">📝</div><span>ノート</span></div>
        <div class="card"><div class="card-icon">🎮</div><span>クイズ</span></div>
        <div class="card"><div class="card-icon">🌍</div><span>リンク集</span></div>
        <div class="card"><div class="card-icon">📊</div><span>成績</span></div>
        <div class="card"><div class="card-icon">📰</div><span>ニュース</span></div>
        <div class="card"><div class="card-icon">💡</div><span>ヒント集</span></div>
        <div class="card"><div class="card-icon">📅</div><span>カレンダー</span></div>
        <div class="card"><div class="card-icon">⏰</div><span>時間割</span></div>
        <div class="card"><div class="card-icon">📂</div><span>ファイル管理</span></div>
        <div class="card"><div class="card-icon">📖</div><span>読書記録</span></div>
        <div class="card"><div class="card-icon">🧪</div><span>実験ノート</span></div>
        <div class="card"><div class="card-icon">🗺️</div><span>地図学習</span></div>
        <!-- 13個目: 資料検索 -->
        <div class="card" onclick="showSearch()">
          <div class="card-icon">📚</div>
          <span>資料検索</span>
        </div>
        <div class="card"><div class="card-icon">📐</div><span>図形ツール</span></div>
        <div class="card"><div class="card-icon">🖌️</div><span>お絵かき</span></div>
        <div class="card"><div class="card-icon">🎵</div><span>音楽室</span></div>
        <div class="card"><div class="card-icon">🎥</div><span>映像資料</span></div>
        <div class="card"><div class="card-icon">📡</div><span>科学ニュース</span></div>
        <div class="card"><div class="card-icon">🧮</div><span>計算練習</span></div>
        <div class="card"><div class="card-icon">⚽</div><span>体育活動</span></div>
      </div>
    </div>

    <!-- 資料検索画面 -->
    <div id="searchScreen" style="display:none; height:100%; flex-direction:column;">
      <div id="searchBox" class="search-box">
        <h1>資料検索</h1>
        <p>学習資料のサイトへアクセスできます</p>
        <input type="text" id="url" placeholder="例: https://www.wikipedia.org">
        <div class="buttons">
          <button class="btn-search" onclick="go()">移動</button>
          <button class="btn-clear" onclick="clearInput()">クリア</button>
          <button class="btn-home" onclick="showHome()">🏠 ホームに戻る</button>
        </div>
        <div id="categories" class="categories">
          <div class="category" onclick="openSite('https://www.wikipedia.org')">📚 Wikipedia</div>
          <div class="category" onclick="openSite('https://dl.ndl.go.jp/')">🏛 国立国会図書館</div>
          <div class="category" onclick="openSite('https://www.britannica.com/')">🌍 Britannica</div>
          <div class="category" onclick="openSite('https://www.nasa.gov/')">🚀 NASA</div>
        </div>
      </div>

      <!-- iframeをメインいっぱいに表示 -->
      <iframe id="iframe" style="flex:1; width:100%; border:none;"></iframe>
    </div>
  </div>

  <script>

  window.addEventListener('DOMContentLoaded', () => {
    // ログインしていない場合は勝手に index.html に戻す
    if (!localStorage.getItem('guestLoggedIn')) {
      window.location.href = "index.html";
    } else {
      // フラグを削除 → 更新したら自動的に index.html に戻る
      localStorage.removeItem('guestLoggedIn');
    }
  });



function showSearch() {
  document.getElementById("homeScreen").style.display = "none";
  document.getElementById("searchScreen").style.display = "flex";
  document.getElementById("searchBox").style.display = "block";
  document.getElementById("categories").style.display = "flex";
  document.getElementById("iframe").src = "";
}

function showHome() {
  document.getElementById("homeScreen").style.display = "block";
  document.getElementById("searchScreen").style.display = "none";
}

function go() {
  const url = document.getElementById("url").value.trim();
  if (!url) return;
  if (!/^https?:\/\//i.test(url)) {
    alert("URLは http:// または https:// から始めてね");
    return;
  }

  // AllOrigins を経由
  document.getElementById("iframe").src =
    "https://api.allorigins.win/raw?url=" + encodeURIComponent(url);

  document.getElementById("searchBox").style.display = "none";
}

function clearInput() {
  document.getElementById("url").value = "";
}

// カテゴリは新しいタブで開く
function openSite(url) {
  window.open(url, "_blank");
}

document.getElementById("url").addEventListener("keydown", e => {
  if(e.key === "Enter") go();
});
  </script>



</body>
</html>
